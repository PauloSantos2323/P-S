<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>P&amp;S Engenharia e Consultoria</title>
    <meta
      name="description"
      content="P&amp;S Engenharia e Consultoria - consultoria especializada para empresas, liderada por Paulo de Oliveira Silva."
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="topbar">
      <div class="container topbar-content">
        <div class="brand">
          <img src="/Logo.PNG" alt="Logo P&amp;S Engenharia e Consultoria" class="brand-logo" />
          <div class="brand-text">
            <span class="brand-name">P&amp;S</span>
            <span class="brand-subtitle">Engenharia e Consultoria</span>
          </div>
        </div>
        <button class="nav-toggle" aria-label="Abrir menu" aria-expanded="false">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <nav class="nav" data-nav>
          <a href="#sobre">Sobre</a>
          <a href="#servicos">Serviços</a>
          <a href="#processo">Como Atuamos</a>
          <a href="#contato" class="nav-cta">Contato</a>
        </nav>
      </div>
    </header>

    <main>
      <section id="hero" class="hero">
        <div class="container hero-grid">
          <div class="hero-text">
            <h1>
              Engenharia e consultoria para levar sua empresa ao próximo nível.
            </h1>
            <p>
              A <strong>P&amp;S Engenharia e Consultoria</strong>, liderada por
              <strong>Paulo de Oliveira Silva</strong>, apoia empresas na
              melhoria de processos, redução de custos e aumento de
              confiabilidade operacional por meio de soluções técnicas sob
              medida.
            </p>
            <div class="hero-actions">
              <a href="#contato" class="btn btn-primary">Solicitar consultoria</a>
              <a href="#servicos" class="btn btn-outline">Conhecer serviços</a>
            </div>
            <div class="hero-highlight">
              <span class="dot"></span>
              <p>
                Diagnóstico inicial sem compromisso e proposta alinhada aos
                objetivos estratégicos da sua empresa.
              </p>
            </div>
          </div>
          <div class="hero-logo-card">
            <div class="hero-logo-wrapper">
              <img src="/Logo.PNG" alt="Logo P&amp;S Engenharia e Consultoria" />
            </div>
            <div class="hero-card-text">
              <h2>Paulo de Oliveira Silva</h2>
              <p>Responsável técnico e consultor principal</p>
              <ul>
                <li>Engenharia aplicada a processos industriais e serviços</li>
                <li>Estruturação de projetos e planos de manutenção</li>
                <li>Consultoria estratégica para melhoria contínua</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section id="sobre" class="section">
        <div class="container section-grid">
          <div>
            <h2>Sobre a P&amp;S Engenharia e Consultoria</h2>
            <p>
              A P&amp;S nasceu com o objetivo de ser parceira de empresas que
              buscam decisões técnicas mais seguras, projetos bem estruturados e
              resultados sustentáveis. Atuamos de forma próxima à sua equipe,
              entendendo o contexto do negócio e propondo soluções práticas,
              claras e implementáveis.
            </p>
            <p>
              Nosso foco é transformar desafios de engenharia em oportunidades
              de melhoria, sempre com transparência, responsabilidade técnica e
              visão de longo prazo.
            </p>
          </div>
          <div class="cards">
            <article class="card">
              <h3>Missão</h3>
              <p>
                Prestar consultoria em engenharia com excelência, gerando valor
                real aos nossos clientes por meio de análises técnicas sólidas e
                soluções eficientes.
              </p>
            </article>
            <article class="card">
              <h3>Visão</h3>
              <p>
                Ser referência em consultoria de engenharia para empresas que
                buscam crescimento sustentável, segurança operacional e
                inovação.
              </p>
            </article>
            <article class="card">
              <h3>Valores</h3>
              <ul>
                <li>Compromisso com resultados</li>
                <li>Ética e responsabilidade técnica</li>
                <li>Transparência na comunicação</li>
                <li>Respeito às pessoas e ao meio ambiente</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section id="servicos" class="section section-alt">
        <div class="container">
          <h2>Serviços de Consultoria</h2>
          <p class="section-intro">
            Atuamos de forma personalizada para que cada projeto esteja alinhado
            aos objetivos e à realidade da sua empresa.
          </p>

          <div class="cards cards-3">
            <article class="card">
              <h3>Diagnóstico Técnico</h3>
              <p>
                Avaliação detalhada de processos, instalações e sistemas para
                identificar gargalos, riscos e oportunidades de melhoria.
              </p>
              <ul>
                <li>Mapeamento de processos</li>
                <li>Análise de desempenho e confiabilidade</li>
                <li>Relatório com recomendações práticas</li>
              </ul>
            </article>

            <article class="card">
              <h3>Projetos de Engenharia</h3>
              <p>
                Elaboração e revisão de projetos, estudos de viabilidade e
                definição de escopo técnico para novas implantações ou
                melhorias.
              </p>
              <ul>
                <li>Projetos conceituais e básicos</li>
                <li>Estudos de alternativas técnicas</li>
                <li>Suporte na contratação e fiscalização</li>
              </ul>
            </article>

            <article class="card">
              <h3>Gestão e Melhoria de Processos</h3>
              <p>
                Apoio na estruturação de rotinas, indicadores e planos de ação
                para ganho de eficiência e redução de custos.
              </p>
              <ul>
                <li>Otimização de processos existentes</li>
                <li>Definição de KPIs e relatórios</li>
                <li>Capacitação da equipe interna</li>
              </ul>
            </article>
          </div>
        </div>
      </section>

      <section id="processo" class="section">
        <div class="container">
          <h2>Como Atuamos</h2>
          <div class="steps">
            <div class="step">
              <span class="step-number">1</span>
              <h3>Entendimento da necessidade</h3>
              <p>
                Conversamos com você para compreender o contexto, os desafios e
                os objetivos da sua empresa.
              </p>
            </div>
            <div class="step">
              <span class="step-number">2</span>
              <h3>Diagnóstico e análise</h3>
              <p>
                Realizamos visitas, entrevistas e análises técnicas para
                levantar dados e identificar os pontos críticos.
              </p>
            </div>
            <div class="step">
              <span class="step-number">3</span>
              <h3>Plano de ação</h3>
              <p>
                Elaboramos um plano claro, com prioridades, prazos e
                responsabilidades, sempre alinhado às suas metas.
              </p>
            </div>
            <div class="step">
              <span class="step-number">4</span>
              <h3>Acompanhamento</h3>
              <p>
                Apoiamos a implementação das recomendações e monitoramos os
                resultados, ajustando o que for necessário.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section id="contato" class="section section-alt">
        <div class="container contact-grid">
          <div>
            <h2>Entre em contato</h2>
            <p>
              Conte mais sobre os desafios da sua empresa e receba uma proposta
              personalizada de consultoria em engenharia.
            </p>
            <ul class="contact-list">
              <li>
                <strong>Responsável:</strong> Paulo de Oliveira Silva
              </li>
              <li><strong>E-mail:</strong> contato@psengenharia.com.br</li>
              <li><strong>Telefone:</strong> (00) 0000-0000</li>
              <li>
                <strong>Atendimento:</strong> Segunda a sexta, das 8h às 18h
              </li>
            </ul>
            <p class="contact-note">
              Ajuste os dados de contato acima conforme a realidade da sua
              empresa.
            </p>
          </div>

          <form class="contact-form" action="#" method="post">
            <div class="form-row">
              <div class="form-group">
                <label for="nome">Nome</label>
                <input type="text" id="nome" name="nome" required />
              </div>
              <div class="form-group">
                <label for="empresa">Empresa</label>
                <input type="text" id="empresa" name="empresa" />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="email">E-mail</label>
                <input type="email" id="email" name="email" required />
              </div>
              <div class="form-group">
                <label for="telefone">Telefone</label>
                <input type="tel" id="telefone" name="telefone" />
              </div>
            </div>
            <div class="form-group">
              <label for="assunto">Assunto</label>
              <input type="text" id="assunto" name="assunto" />
            </div>
            <div class="form-group">
              <label for="mensagem">Mensagem</label>
              <textarea id="mensagem" name="mensagem" rows="4" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary btn-full">
              Enviar mensagem
            </button>
            <p class="form-disclaimer">
              Este formulário é ilustrativo. Para receber as mensagens, integre-o
              ao seu sistema de e-mail ou ferramenta de automação.
            </p>
          </form>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container footer-content">
        <p>
          &copy; <span id="year"></span> P&amp;S Engenharia e Consultoria. Todos
          os direitos reservados.
        </p>
        <p class="footer-small">
          Desenvolvido para apresentação institucional de
          <strong>Paulo de Oliveira Silva</strong>.
        </p>
      </div>
    </footer>

    <!-- Botão Voltar ao Topo -->
    <button id="backToTop" class="back-to-top" aria-label="Voltar ao topo">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 15V5M5 10L10 5L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>

    <!-- Indicador de Progresso de Scroll -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <script>
      // ============================================
      // UTILITÁRIOS
      // ============================================
      
      // Debounce function
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      // Throttle function
      function throttle(func, limit) {
        let inThrottle;
        return function() {
          const args = arguments;
          const context = this;
          if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
          }
        };
      }

      // ============================================
      // INICIALIZAÇÃO BÁSICA
      // ============================================
      
      // Ano atual
      const yearSpan = document.getElementById("year");
      if (yearSpan) {
        yearSpan.textContent = new Date().getFullYear();
      }

      // ============================================
      // MENU MOBILE
      // ============================================
      
      const navToggle = document.querySelector(".nav-toggle");
      const nav = document.querySelector("[data-nav]");
      const toggleNav = () => {
        const isOpen = navToggle.getAttribute("aria-expanded") === "true";
        navToggle.setAttribute("aria-expanded", String(!isOpen));
        nav.classList.toggle("nav-open", !isOpen);
        document.body.style.overflow = !isOpen ? "hidden" : "";
      };

      if (navToggle && nav) {
        navToggle.addEventListener("click", toggleNav);
        
        // Fechar ao clicar fora
        document.addEventListener("click", (e) => {
          if (!nav.contains(e.target) && !navToggle.contains(e.target) && nav.classList.contains("nav-open")) {
            nav.classList.remove("nav-open");
            navToggle.setAttribute("aria-expanded", "false");
            document.body.style.overflow = "";
          }
        });

        window.addEventListener("resize", debounce(() => {
          if (window.innerWidth > 768) {
            nav.classList.remove("nav-open");
            navToggle.setAttribute("aria-expanded", "false");
            document.body.style.overflow = "";
          }
        }, 250));
      }

      // ============================================
      // SCROLL SUAVE COM OFFSET
      // ============================================
      
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const targetId = this.getAttribute("href");
          if (targetId === "#") return;
          
          const target = document.querySelector(targetId);
          if (target) {
            const headerHeight = document.querySelector(".topbar").offsetHeight;
            const targetPosition = target.offsetTop - headerHeight - 20;
            
            window.scrollTo({
              top: targetPosition,
              behavior: "smooth"
            });

            // Fechar menu mobile após clicar
            if (nav && nav.classList.contains("nav-open")) {
              nav.classList.remove("nav-open");
              navToggle.setAttribute("aria-expanded", "false");
              document.body.style.overflow = "";
            }
          }
        });
      });

      // ============================================
      // INDICADOR DE PROGRESSO DE SCROLL
      // ============================================
      
      const scrollProgress = document.getElementById("scrollProgress");
      if (scrollProgress) {
        const updateScrollProgress = throttle(() => {
          const windowHeight = document.documentElement.scrollHeight - window.innerHeight;
          const scrolled = (window.scrollY / windowHeight) * 100;
          scrollProgress.style.width = `${scrolled}%`;
        }, 10);

        window.addEventListener("scroll", updateScrollProgress);
      }

      // ============================================
      // BOTÃO VOLTAR AO TOPO
      // ============================================
      
      const backToTopBtn = document.getElementById("backToTop");
      if (backToTopBtn) {
        const toggleBackToTop = throttle(() => {
          if (window.scrollY > 300) {
            backToTopBtn.classList.add("visible");
          } else {
            backToTopBtn.classList.remove("visible");
          }
        }, 100);

        window.addEventListener("scroll", toggleBackToTop);

        backToTopBtn.addEventListener("click", () => {
          window.scrollTo({
            top: 0,
            behavior: "smooth"
          });
        });
      }

      // ============================================
      // HEADER COM SOMBRA E MENU ATIVO
      // ============================================
      
      const header = document.querySelector(".topbar");
      const navLinks = document.querySelectorAll(".nav a[href^='#']");
      const sections = document.querySelectorAll("section[id]");

      const updateActiveNav = throttle(() => {
        const scrollPos = window.scrollY + 150;
        
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.offsetHeight;
          const sectionId = section.getAttribute("id");

          if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
            navLinks.forEach(link => {
              link.classList.remove("active");
              if (link.getAttribute("href") === `#${sectionId}`) {
                link.classList.add("active");
              }
            });
          }
        });

        // Atualizar header
        if (window.scrollY > 50) {
          header.classList.add("scrolled");
        } else {
          header.classList.remove("scrolled");
        }
      }, 100);

      window.addEventListener("scroll", updateActiveNav);
      updateActiveNav(); // Chamar uma vez no carregamento

      // ============================================
      // ANIMAÇÕES DE REVEAL ON SCROLL
      // ============================================
      
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px"
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add("revealed");
            observer.unobserve(entry.target); // Parar de observar após animar
          }
        });
      }, observerOptions);

      // Observar elementos para animação
      document.querySelectorAll(".card, .step, .section h2, .section-intro").forEach((el, index) => {
        el.classList.add("fade-in");
        el.style.transitionDelay = `${index * 0.1}s`;
        observer.observe(el);
      });

      // ============================================
      // FORMATAÇÃO DE TELEFONE
      // ============================================
      
      const phoneInput = document.getElementById("telefone");
      if (phoneInput) {
        phoneInput.addEventListener("input", function(e) {
          let value = e.target.value.replace(/\D/g, "");
          
          if (value.length <= 11) {
            if (value.length <= 10) {
              value = value.replace(/^(\d{2})(\d{4})(\d{0,4}).*/, "($1) $2-$3");
            } else {
              value = value.replace(/^(\d{2})(\d{5})(\d{0,4}).*/, "($1) $2-$3");
            }
            e.target.value = value;
          }
        });

        phoneInput.addEventListener("blur", function() {
          if (this.value.trim() !== "") {
            this.classList.add("filled");
          } else {
            this.classList.remove("filled");
          }
        });
      }

      // ============================================
      // VALIDAÇÃO E FORMULÁRIO
      // ============================================
      
      const form = document.querySelector(".contact-form");
      if (form) {
        const inputs = form.querySelectorAll("input, textarea");
        const emailInput = document.getElementById("email");
        const nomeInput = document.getElementById("nome");

        // Validação de email em tempo real
        if (emailInput) {
          emailInput.addEventListener("blur", function() {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (this.value.trim() !== "" && !emailRegex.test(this.value)) {
              this.classList.add("error");
              this.setCustomValidity("Por favor, insira um e-mail válido");
            } else {
              this.classList.remove("error");
              this.setCustomValidity("");
            }
          });

          emailInput.addEventListener("input", function() {
            if (this.classList.contains("error") && this.value.trim() !== "") {
              const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
              if (emailRegex.test(this.value)) {
                this.classList.remove("error");
                this.setCustomValidity("");
              }
            }
          });
        }

        // Validação de nome (mínimo 3 caracteres)
        if (nomeInput) {
          nomeInput.addEventListener("blur", function() {
            if (this.value.trim().length < 3 && this.value.trim() !== "") {
              this.classList.add("error");
              this.setCustomValidity("O nome deve ter pelo menos 3 caracteres");
            } else {
              this.classList.remove("error");
              this.setCustomValidity("");
            }
          });
        }

        // Validação visual para todos os inputs
        inputs.forEach(input => {
          input.addEventListener("blur", function() {
            if (this.value.trim() !== "" && !this.classList.contains("error")) {
              this.classList.add("filled");
            } else if (!this.classList.contains("error")) {
              this.classList.remove("filled");
            }
          });

          input.addEventListener("focus", function() {
            this.classList.remove("error");
          });
        });

        // Submit do formulário
        form.addEventListener("submit", function(e) {
          e.preventDefault();
          
          // Validar todos os campos
          let isValid = true;
          inputs.forEach(input => {
            if (input.hasAttribute("required") && input.value.trim() === "") {
              input.classList.add("error");
              isValid = false;
            }
          });

          if (!isValid) {
            // Scroll para o primeiro erro
            const firstError = form.querySelector(".error");
            if (firstError) {
              firstError.scrollIntoView({ behavior: "smooth", block: "center" });
              firstError.focus();
            }
            return;
          }

          const submitBtn = form.querySelector('button[type="submit"]');
          const originalText = submitBtn.textContent;
          submitBtn.textContent = "Enviando...";
          submitBtn.disabled = true;
          submitBtn.style.opacity = "0.7";
          
          // Simular envio (substitua por sua lógica de envio real)
          setTimeout(() => {
            submitBtn.textContent = "✓ Mensagem enviada!";
            submitBtn.style.background = "#10b981";
            submitBtn.style.opacity = "1";
            
            // Reset após 3 segundos
            setTimeout(() => {
              form.reset();
              submitBtn.textContent = originalText;
              submitBtn.style.background = "";
              submitBtn.disabled = false;
              inputs.forEach(input => {
                input.classList.remove("filled", "error");
              });
              
              // Mostrar mensagem de sucesso
              showNotification("Mensagem enviada com sucesso!", "success");
            }, 3000);
          }, 1500);
        });
      }

      // ============================================
      // SISTEMA DE NOTIFICAÇÕES
      // ============================================
      
      function showNotification(message, type = "info") {
        const notification = document.createElement("div");
        notification.className = `notification notification-${type}`;
        notification.textContent = message;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.classList.add("show");
        }, 10);

        setTimeout(() => {
          notification.classList.remove("show");
          setTimeout(() => {
            notification.remove();
          }, 300);
        }, 3000);
      }

      // ============================================
      // LAZY LOADING DE IMAGENS
      // ============================================
      
      if ("IntersectionObserver" in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const img = entry.target;
              if (img.dataset.src) {
                img.src = img.dataset.src;
                img.classList.add("loaded");
                observer.unobserve(img);
              }
            }
          });
        });

        document.querySelectorAll("img[data-src]").forEach(img => {
          imageObserver.observe(img);
        });
      }

      // ============================================
      // ANIMAÇÃO DE TEXTO TYPING (OPCIONAL)
      // ============================================
      
      function typeWriter(element, text, speed = 50) {
        let i = 0;
        element.textContent = "";
        function type() {
          if (i < text.length) {
            element.textContent += text.charAt(i);
            i++;
            setTimeout(type, speed);
          }
        }
        type();
      }

      // ============================================
      // PREVENIR FLASH DE CONTEÚDO NÃO ESTILIZADO
      // ============================================
      
      document.documentElement.classList.add("js-enabled");

      // ============================================
      // MELHORIAS DE PERFORMANCE
      // ============================================
      
      // ============================================
      // CARREGAMENTO INTELIGENTE DA LOGO
      // ============================================
      
      function loadLogo(imgElement) {
        // Lista de possíveis variações do nome do arquivo
        const logoVariations = [
          "/Logo.PNG",
          "/Logo.png",
          "/logo.PNG",
          "/logo.png",
          "./Logo.PNG",
          "./Logo.png",
          "Logo.PNG",
          "Logo.png"
        ];

        let currentIndex = 0;

        function tryNext() {
          if (currentIndex >= logoVariations.length) {
            console.warn("⚠️ Logo não encontrada. Verifique se o arquivo está na raiz do projeto.");
            // Mostrar placeholder ou texto alternativo
            imgElement.style.display = "none";
            return;
          }

          const testImg = new Image();
          testImg.onload = () => {
            imgElement.src = logoVariations[currentIndex];
            imgElement.style.opacity = "1";
            console.log(`✅ Logo carregada: ${logoVariations[currentIndex]}`);
          };
          testImg.onerror = () => {
            currentIndex++;
            tryNext();
          };
          testImg.src = logoVariations[currentIndex];
        }

        // Tentar carregar
        imgElement.style.opacity = "0";
        imgElement.style.transition = "opacity 0.3s ease";
        tryNext();
      }

      // Carregar todas as logos quando a página carregar
      window.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll('.brand-logo, .hero-logo-wrapper img').forEach(img => {
          loadLogo(img);
        });
      });

      // Preload de recursos críticos
      if (document.querySelector('link[rel="preload"]') === null) {
        const preloadLink = document.createElement("link");
        preloadLink.rel = "preload";
        preloadLink.href = "/Logo.PNG";
        preloadLink.as = "image";
        document.head.appendChild(preloadLink);
      }

      // ============================================
      // ACESSIBILIDADE - NAVEGAÇÃO POR TECLADO
      // ============================================
      
      document.addEventListener("keydown", (e) => {
        // ESC fecha o menu mobile
        if (e.key === "Escape" && nav && nav.classList.contains("nav-open")) {
          nav.classList.remove("nav-open");
          navToggle.setAttribute("aria-expanded", "false");
          document.body.style.overflow = "";
          navToggle.focus();
        }
      });

      // ============================================
      // DETECÇÃO DE REDUÇÃO DE MOVIMENTO
      // ============================================
      
      const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)");
      if (prefersReducedMotion.matches) {
        document.documentElement.classList.add("reduced-motion");
      }

      // ============================================
      // LOG DE CARREGAMENTO (para debug)
      // ============================================
      
      window.addEventListener("load", () => {
        console.log("✅ P&S Engenharia - Página carregada com sucesso!");
      });
    </script>
